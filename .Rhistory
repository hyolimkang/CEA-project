daly_total         = daly_total,
icer_daly          = icer_daly))
}
# end of function -- owsa
# one-way sensitivity analysis of parameters
# v_cost, delivery_cost, facility_cost, dmc, dnmc, indirect, ve, dw, illness_duration, cfr, age_death, life_exp: changing vars
parameters_change <- c ("v_cost",
"delivery_cost",
"facility_cost",
"dmc",
"dnmc",
"indirect",
"ve",
"dw",
"illness_duration",
"cfr",
"age_death",
"life_exp")
for (parameter in parameters_change) {
change = 0.1  # +10% or -10%
results_ll <- owsa (v_cost            = 2.96,
delivery_cost     = 1.49 ,
tot_pop           = 159831,
vacc_pop          = 113420,
postvacc_p1       = 23,
facility_cost     = 97.33 ,
dmc               = 183.07 ,
dnmc              = 30.13,
indirect          = 73.09 ,
ve                = .81 ,
dw                = .052,
illness_duration  = .043  ,
cfr               = .019 ,
age_death         =  7.5  ,
life_exp          =  72.68 ,
parameters_change = parameter,
change            = change )
results_ul <- owsa (v_cost            = 2.96,
delivery_cost     = 1.49 ,
tot_pop           = 159831,
vacc_pop          = 113420,
postvacc_p1       = 23,
facility_cost     = 97.33 ,
dmc               = 183.07 ,
dnmc              = 30.13,
indirect          = 73.09 ,
ve                = .81 ,
dw                = .052,
illness_duration  = .043  ,
cfr               = .019 ,
age_death         =  7.5  ,
life_exp          =  72.68 ,
parameters_change = parameter,
change            = -change )
}
icer_dt_owsa <- data.table (run_id = 1 : 10)
for (parameter in parameters_change) {
owsa_sample <- owsa(v_cost           = 2.96             ,
delivery_cost    = 1.49             ,
tot_pop          = 159831           ,
vacc_pop         = 113420           ,
postvacc_p1      = 23               ,
facility_cost    = 97.33            ,
dmc              = 183.07           ,
dnmc             = 30.13            ,
indirect         = 73.09            ,
ve               = .81              ,
dw               = .052             ,
illness_duration = .043             ,
cfr              = .019             ,
age_death        =  7.5             ,
life_exp         =  72.68           ,
parameters_change                   ,
change                              )
icer_dt_owsa [parameter, `:=` ( totcost_unvacc       = owsa_sample$totcost_unvacc,
totcost_vacc              = owsa_sample$totcost_vacc,
incremental_cost          = owsa_sample$incremental_cost,
incremental_effect        = owsa_sample$incremental_effect,
icer                      = owsa_sample$icer,
prevacc                   = owsa_sample$prevacc,
temp_distance             = owsa_sample$temp_distance,
pre_death                 = owsa_sample$pre_death,
post_death                = owsa_sample$post_death,
yll_pre                   = owsa_sample$yll_pre,
yll_post                  = owsa_sample$yll_post,
yld_pre                   = owsa_sample$yld_pre,
yld_post                  = owsa_sample$yld_post,
yld_averted               = owsa_sample$yld_averted,
yll_averted               = owsa_sample$yll_averted,
daly_total                = owsa_sample$daly_total,
icer_daly                 = owsa_sample$icer_daly
)]
}
View(results_ll)
View(results_ul)
owsa_sample_ll <- owsa(v_cost           = 2.96             ,
delivery_cost    = 1.49             ,
tot_pop          = 159831           ,
vacc_pop         = 113420           ,
postvacc_p1      = 23               ,
facility_cost    = 97.33            ,
dmc              = 183.07           ,
dnmc             = 30.13            ,
indirect         = 73.09            ,
ve               = .81              ,
dw               = .052             ,
illness_duration = .043             ,
cfr              = .019             ,
age_death        =  7.5             ,
life_exp         =  72.68           ,
parameters_change = paramter        ,
change            = change          )
for (parameter in parameters_change) {
# lower limit values
owsa_sample_ll <- owsa(v_cost           = 2.96             ,
delivery_cost    = 1.49             ,
tot_pop          = 159831           ,
vacc_pop         = 113420           ,
postvacc_p1      = 23               ,
facility_cost    = 97.33            ,
dmc              = 183.07           ,
dnmc             = 30.13            ,
indirect         = 73.09            ,
ve               = .81              ,
dw               = .052             ,
illness_duration = .043             ,
cfr              = .019             ,
age_death        =  7.5             ,
life_exp         =  72.68           ,
parameters_change = parameter        ,
change            = change          )
View(results_ul)
View(owsa_sample)
icer_dt_owsa <- data.table (run_id = 1 : 10)
for (parameter in parameters_change) {
# lower limit values
owsa_sample_ll <- owsa(v_cost           = 2.96             ,
delivery_cost    = 1.49             ,
tot_pop          = 159831           ,
vacc_pop         = 113420           ,
postvacc_p1      = 23               ,
facility_cost    = 97.33            ,
dmc              = 183.07           ,
dnmc             = 30.13            ,
indirect         = 73.09            ,
ve               = .81              ,
dw               = .052             ,
illness_duration = .043             ,
cfr              = .019             ,
age_death        =  7.5             ,
life_exp         =  72.68           ,
parameters_change = parameter        ,
change            = change          )
icer_dt_owsa [i, `:=` ( totcost_unvacc       = owsa_sample$totcost_unvacc,
totcost_vacc              = owsa_sample$totcost_vacc,
incremental_cost          = owsa_sample$incremental_cost,
incremental_effect        = owsa_sample$incremental_effect,
icer                      = owsa_sample$icer,
prevacc                   = owsa_sample$prevacc,
temp_distance             = owsa_sample$temp_distance,
pre_death                 = owsa_sample$pre_death,
post_death                = owsa_sample$post_death,
yll_pre                   = owsa_sample$yll_pre,
yll_post                  = owsa_sample$yll_post,
yld_pre                   = owsa_sample$yld_pre,
yld_post                  = owsa_sample$yld_post,
yld_averted               = owsa_sample$yld_averted,
yll_averted               = owsa_sample$yll_averted,
daly_total                = owsa_sample$daly_total,
icer_daly                 = owsa_sample$icer_daly
)]
# upper limit values
owsa_sample_ll <- owsa(v_cost           = 2.96             ,
delivery_cost    = 1.49             ,
tot_pop          = 159831           ,
vacc_pop         = 113420           ,
postvacc_p1      = 23               ,
facility_cost    = 97.33            ,
dmc              = 183.07           ,
dnmc             = 30.13            ,
indirect         = 73.09            ,
ve               = .81              ,
dw               = .052             ,
illness_duration = .043             ,
cfr              = .019             ,
age_death        =  7.5             ,
life_exp         =  72.68           ,
parameters_change = paramter        ,
change            = -change          )
}
}
View(owsa_sample)
View(icer_dt_owsa)
View(owsa_sample_ll)
icer_dt_owsa <- data.table (run_id = 1 : 10)
for (parameter in parameters_change) {
# lower limit values
owsa_sample_ll <- owsa(v_cost        = 2.96             ,
delivery_cost    = 1.49             ,
tot_pop          = 159831           ,
vacc_pop         = 113420           ,
postvacc_p1      = 23               ,
facility_cost    = 97.33            ,
dmc              = 183.07           ,
dnmc             = 30.13            ,
indirect         = 73.09            ,
ve               = .81              ,
dw               = .052             ,
illness_duration = .043             ,
cfr              = .019             ,
age_death        =  7.5             ,
life_exp         =  72.68           ,
parameters_change = parameter       ,
change            = change          )
icer_dt_owsa [i, `:=` ( totcost_unvacc       = owsa_sample_ll$totcost_unvacc,
totcost_vacc              = owsa_sample_ll$totcost_vacc,
incremental_cost          = owsa_sample_ll$incremental_cost,
incremental_effect        = owsa_sample_ll$incremental_effect,
icer                      = owsa_sample_ll$icer,
prevacc                   = owsa_sample_ll$prevacc,
temp_distance             = owsa_sample_ll$temp_distance,
pre_death                 = owsa_sample_ll$pre_death,
post_death                = owsa_sample_ll$post_death,
yll_pre                   = owsa_sample_ll$yll_pre,
yll_post                  = owsa_sample_ll$yll_post,
yld_pre                   = owsa_sample_ll$yld_pre,
yld_post                  = owsa_sample_ll$yld_post,
yld_averted               = owsa_sample_ll$yld_averted,
yll_averted               = owsa_sample_ll$yll_averted,
daly_total                = owsa_sample_ll$daly_total,
icer_daly                 = owsa_sample_ll$icer_daly
)]
}
icer_dt_owsa <- data.table (run_id = 1 : 1000)
for (parameter in parameters_change) {
# lower limit values
owsa_sample_ll <- owsa(v_cost        = 2.96             ,
delivery_cost    = 1.49             ,
tot_pop          = 159831           ,
vacc_pop         = 113420           ,
postvacc_p1      = 23               ,
facility_cost    = 97.33            ,
dmc              = 183.07           ,
dnmc             = 30.13            ,
indirect         = 73.09            ,
ve               = .81              ,
dw               = .052             ,
illness_duration = .043             ,
cfr              = .019             ,
age_death        =  7.5             ,
life_exp         =  72.68           ,
parameters_change = parameter       ,
change            = change          )
icer_dt_owsa [i, `:=` ( totcost_unvacc       = owsa_sample_ll$totcost_unvacc,
totcost_vacc              = owsa_sample_ll$totcost_vacc,
incremental_cost          = owsa_sample_ll$incremental_cost,
incremental_effect        = owsa_sample_ll$incremental_effect,
icer                      = owsa_sample_ll$icer,
prevacc                   = owsa_sample_ll$prevacc,
temp_distance             = owsa_sample_ll$temp_distance,
pre_death                 = owsa_sample_ll$pre_death,
post_death                = owsa_sample_ll$post_death,
yll_pre                   = owsa_sample_ll$yll_pre,
yll_post                  = owsa_sample_ll$yll_post,
yld_pre                   = owsa_sample_ll$yld_pre,
yld_post                  = owsa_sample_ll$yld_post,
yld_averted               = owsa_sample_ll$yld_averted,
yll_averted               = owsa_sample_ll$yll_averted,
daly_total                = owsa_sample_ll$daly_total,
icer_daly                 = owsa_sample_ll$icer_daly
)]
}
View(owsa_sample_ll)
View(icer_dt)
icer_dt_owsa <- data.table (run_id = 1 : 1000)
for (parameter in parameters_change) {
# lower limit values
owsa_sample_ll <- owsa(v_cost        = 2.96             ,
delivery_cost    = 1.49             ,
tot_pop          = 159831           ,
vacc_pop         = 113420           ,
postvacc_p1      = 23               ,
facility_cost    = 97.33            ,
dmc              = 183.07           ,
dnmc             = 30.13            ,
indirect         = 73.09            ,
ve               = .81              ,
dw               = .052             ,
illness_duration = .043             ,
cfr              = .019             ,
age_death        =  7.5             ,
life_exp         =  72.68           ,
parameters_change = parameter       ,
change            = change          )
icer_dt_owsa [i, `:=` ( totcost_unvacc       = owsa_sample_ll$totcost_unvacc,
totcost_vacc              = owsa_sample_ll$totcost_vacc,
incremental_cost          = owsa_sample_ll$incremental_cost,
incremental_effect        = owsa_sample_ll$incremental_effect,
icer                      = owsa_sample_ll$icer,
prevacc                   = owsa_sample_ll$prevacc,
temp_distance             = owsa_sample_ll$temp_distance,
pre_death                 = owsa_sample_ll$pre_death,
post_death                = owsa_sample_ll$post_death,
yll_pre                   = owsa_sample_ll$yll_pre,
yll_post                  = owsa_sample_ll$yll_post,
yld_pre                   = owsa_sample_ll$yld_pre,
yld_post                  = owsa_sample_ll$yld_post,
yld_averted               = owsa_sample_ll$yld_averted,
yll_averted               = owsa_sample_ll$yll_averted,
daly_total                = owsa_sample_ll$daly_total,
icer_daly                 = owsa_sample_ll$icer_daly
)]
# upper limit values
owsa_sample_ul <- owsa(v_cost           = 2.96             ,
delivery_cost    = 1.49             ,
tot_pop          = 159831           ,
vacc_pop         = 113420           ,
postvacc_p1      = 23               ,
facility_cost    = 97.33            ,
dmc              = 183.07           ,
dnmc             = 30.13            ,
indirect         = 73.09            ,
ve               = .81              ,
dw               = .052             ,
illness_duration = .043             ,
cfr              = .019             ,
age_death        =  7.5             ,
life_exp         =  72.68           ,
parameters_change = paramter        ,
change            = -change          )
icer_dt_owsa [i, `:=` ( totcost_unvacc            = owsa_sample_ul$totcost_unvacc,
totcost_vacc              = owsa_sample_ul$totcost_vacc,
incremental_cost          = owsa_sample_ul$incremental_cost,
incremental_effect        = owsa_sample_ul$incremental_effect,
icer                      = owsa_sample_ul$icer,
prevacc                   = owsa_sample_ul$prevacc,
temp_distance             = owsa_sample_ul$temp_distance,
pre_death                 = owsa_sample_ul$pre_death,
post_death                = owsa_sample_ul$post_death,
yll_pre                   = owsa_sample_ul$yll_pre,
yll_post                  = owsa_sample_ul$yll_post,
yld_pre                   = owsa_sample_ul$yld_pre,
yld_post                  = owsa_sample_ul$yld_post,
yld_averted               = owsa_sample_ul$yld_averted,
yll_averted               = owsa_sample_ul$yll_averted,
daly_total                = owsa_sample_ul$daly_total,
icer_daly                 = owsa_sample_ul$icer_daly
)]
}
icer_dt_owsa <- data.table (run_id = 1 : 1000)
for (parameter in parameters_change) {
# lower limit values
owsa_sample_ll <- owsa(v_cost        = 2.96             ,
delivery_cost    = 1.49             ,
tot_pop          = 159831           ,
vacc_pop         = 113420           ,
postvacc_p1      = 23               ,
facility_cost    = 97.33            ,
dmc              = 183.07           ,
dnmc             = 30.13            ,
indirect         = 73.09            ,
ve               = .81              ,
dw               = .052             ,
illness_duration = .043             ,
cfr              = .019             ,
age_death        =  7.5             ,
life_exp         =  72.68           ,
parameters_change = parameter       ,
change            = change          )
icer_dt_owsa [i, `:=` ( totcost_unvacc       = owsa_sample_ll$totcost_unvacc,
totcost_vacc              = owsa_sample_ll$totcost_vacc,
incremental_cost          = owsa_sample_ll$incremental_cost,
incremental_effect        = owsa_sample_ll$incremental_effect,
icer                      = owsa_sample_ll$icer,
prevacc                   = owsa_sample_ll$prevacc,
temp_distance             = owsa_sample_ll$temp_distance,
pre_death                 = owsa_sample_ll$pre_death,
post_death                = owsa_sample_ll$post_death,
yll_pre                   = owsa_sample_ll$yll_pre,
yll_post                  = owsa_sample_ll$yll_post,
yld_pre                   = owsa_sample_ll$yld_pre,
yld_post                  = owsa_sample_ll$yld_post,
yld_averted               = owsa_sample_ll$yld_averted,
yll_averted               = owsa_sample_ll$yll_averted,
daly_total                = owsa_sample_ll$daly_total,
icer_daly                 = owsa_sample_ll$icer_daly
)]
# upper limit values
owsa_sample_ul <- owsa(v_cost           = 2.96             ,
delivery_cost    = 1.49             ,
tot_pop          = 159831           ,
vacc_pop         = 113420           ,
postvacc_p1      = 23               ,
facility_cost    = 97.33            ,
dmc              = 183.07           ,
dnmc             = 30.13            ,
indirect         = 73.09            ,
ve               = .81              ,
dw               = .052             ,
illness_duration = .043             ,
cfr              = .019             ,
age_death        =  7.5             ,
life_exp         =  72.68           ,
parameters_change = parameter        ,
change            = -change          )
icer_dt_owsa [i, `:=` ( totcost_unvacc            = owsa_sample_ul$totcost_unvacc,
totcost_vacc              = owsa_sample_ul$totcost_vacc,
incremental_cost          = owsa_sample_ul$incremental_cost,
incremental_effect        = owsa_sample_ul$incremental_effect,
icer                      = owsa_sample_ul$icer,
prevacc                   = owsa_sample_ul$prevacc,
temp_distance             = owsa_sample_ul$temp_distance,
pre_death                 = owsa_sample_ul$pre_death,
post_death                = owsa_sample_ul$post_death,
yll_pre                   = owsa_sample_ul$yll_pre,
yll_post                  = owsa_sample_ul$yll_post,
yld_pre                   = owsa_sample_ul$yld_pre,
yld_post                  = owsa_sample_ul$yld_post,
yld_averted               = owsa_sample_ul$yld_averted,
yll_averted               = owsa_sample_ul$yll_averted,
daly_total                = owsa_sample_ul$daly_total,
icer_daly                 = owsa_sample_ul$icer_daly
)]
}
View(owsa_sample_ll)
View(owsa_sample_ul)
View(icer_dt_owsa)
View(owsa_sample)
View(owsa_sample_ll)
View(owsa_sample_ul)
icer_dt_owsa <- data.table (run_id = 1 : 1000)
for (parameter in parameters_change) {
# lower limit values
owsa_sample_ll <- owsa(v_cost        = 2.96             ,
delivery_cost    = 1.49             ,
tot_pop          = 159831           ,
vacc_pop         = 113420           ,
postvacc_p1      = 23               ,
facility_cost    = 97.33            ,
dmc              = 183.07           ,
dnmc             = 30.13            ,
indirect         = 73.09            ,
ve               = .81              ,
dw               = .052             ,
illness_duration = .043             ,
cfr              = .019             ,
age_death        =  7.5             ,
life_exp         =  72.68           ,
parameters_change = parameter       ,
change            = change          )
icer_dt_owsa [i, `:=` ( totcost_unvacc       = owsa_sample_ll$totcost_unvacc,
totcost_vacc              = owsa_sample_ll$totcost_vacc,
incremental_cost          = owsa_sample_ll$incremental_cost,
incremental_effect        = owsa_sample_ll$incremental_effect,
icer                      = owsa_sample_ll$icer,
prevacc                   = owsa_sample_ll$prevacc,
temp_distance             = owsa_sample_ll$temp_distance,
pre_death                 = owsa_sample_ll$pre_death,
post_death                = owsa_sample_ll$post_death,
yll_pre                   = owsa_sample_ll$yll_pre,
yll_post                  = owsa_sample_ll$yll_post,
yld_pre                   = owsa_sample_ll$yld_pre,
yld_post                  = owsa_sample_ll$yld_post,
yld_averted               = owsa_sample_ll$yld_averted,
yll_averted               = owsa_sample_ll$yll_averted,
daly_total                = owsa_sample_ll$daly_total,
icer_daly                 = owsa_sample_ll$icer_daly
)]
# upper limit values
owsa_sample_ul <- owsa(v_cost           = 2.96             ,
delivery_cost    = 1.49             ,
tot_pop          = 159831           ,
vacc_pop         = 113420           ,
postvacc_p1      = 23               ,
facility_cost    = 97.33            ,
dmc              = 183.07           ,
dnmc             = 30.13            ,
indirect         = 73.09            ,
ve               = .81              ,
dw               = .052             ,
illness_duration = .043             ,
cfr              = .019             ,
age_death        =  7.5             ,
life_exp         =  72.68           ,
parameters_change = parameter        ,
change            = -change          )
icer_dt_owsa [i, `:=` ( totcost_unvacc            = owsa_sample_ul$totcost_unvacc,
totcost_vacc              = owsa_sample_ul$totcost_vacc,
incremental_cost          = owsa_sample_ul$incremental_cost,
incremental_effect        = owsa_sample_ul$incremental_effect,
icer                      = owsa_sample_ul$icer,
prevacc                   = owsa_sample_ul$prevacc,
temp_distance             = owsa_sample_ul$temp_distance,
pre_death                 = owsa_sample_ul$pre_death,
post_death                = owsa_sample_ul$post_death,
yll_pre                   = owsa_sample_ul$yll_pre,
yll_post                  = owsa_sample_ul$yll_post,
yld_pre                   = owsa_sample_ul$yld_pre,
yld_post                  = owsa_sample_ul$yld_post,
yld_averted               = owsa_sample_ul$yld_averted,
yll_averted               = owsa_sample_ul$yll_averted,
daly_total                = owsa_sample_ul$daly_total,
icer_daly                 = owsa_sample_ul$icer_daly
)]
}
View(results_ul)
View(results_ll)
View(owsa_sample_ul)
View(owsa_sample_ll)
View(owsa_sample_ll)
View(owsa_sample_ll)
View(owsa_sample_ul)
